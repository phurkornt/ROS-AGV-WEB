<%- include("../partials/header") %> 

<div class="container">
    <div class="card mt-3 bg-secondary bg-opacity-50 "   style="width: 100%;">
        <div class="card-body">
          <h5 class="card-title text-center fs-4 fw-bolder">สร้างแผนที่</h5>
        </div>
    </div>
    
    <!-- <div class="row">
        <div class="col-2"></div>

        <div class="col-8">
            <div class="card mt-3 " style="width: 100%; height: 10rem;">
                <div class="card-body btn  " onclick="open_make_map()">
                    <h5 class="card-title text-center fs-2 fw-bolder">Create Map</h5>
                </div>
            </div>
        </div>
        
        <div class="col-2"></div>
    </div>
     -->


</div>


<div class="container mt-3">
    
    <div class="row">
      
        <div class="col-lg-6 col-md-6 ">



            <div class="card mt-3"  >
                <div class="card-body">
                    <h5 class="card-title  fs-4">ตั้งค่า</h5>
                    <hr>



                <form action="launch_slam" method="post" class="">
                    <button type="submit" class="btn btn-danger">เปิดระบบสร้างเเผนที่</button>
                </form>
                <br>


                <form action="save_map" onsubmit="return vailName()" method="post" >
                    <span>Map name : </span>
                    <input type="text" class="form-control my-1" name="map_name" placeholder="" >
                    <button type="submit" class="btn btn-success ">บันทึกแผนที่</button>
                </form>
              
                <!-- <p id="zone_joystick" style ="margin-top: 90px;padding-bottom: 50px;"></p> -->
                
                
                </div>

            </div>

            <div class="card mt-3"  >
                <div class="card-body " > 
                    <h5 class="card-title  fs-4">ควบคุม</h5>
                    <hr>
                    <p>ความเร็วสูงสุด <b>max(1)</b></p>
                    <div class="input-group mb-3">
                        <span class="input-group-text" >ความเร็วเชิงเส้น</span>
                        <input name="linear_speed" type="number" class="form-control" value="0.2" >
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text" >ความเร็วเชิงมุม</span>
                        <input name="angular_speed" type="number" class="form-control" value="0.2" >
                    </div>


                    <br>
                    <div class="row">
                        <div id="m-f" class="col-3  btn btn-outline-secondary p-3  ">เดินทาง</div>
                        <div id="m-b" class="col-3  btn btn-outline-secondary p-3  ">ถอยหลัง</div>
                        <div id="m-l" class="col-3  btn btn-outline-secondary p-3  ">หมุนซ้าย</div>
                        <div id="m-r" class="col-3  btn btn-outline-secondary p-3  ">หมุนขวา</div>
                        <div id="m-s" class=" btn btn-outline-danger p-3  ">หยุด</div>
                    </div>
                 
                    
                    
                
                </div>

            </div>

            <% if(locals.status && status.status == 2 ){%>
                <form class="my-2" action="close_slam" method="post">
                    <div class=" ">
                      <button type="submit" class="btn btn-danger p-3  mb-3">Close System</button>
                    </div>
                </form>
            <%} %>


        </div>


        <div class="col-lg-6 col-md-6">
            <div id="nav" class="center"></div>
        </div>

    </div>

</div>

    

<script src="nav2d_map.js"></script>
<script src="page_scanMap.js"></script>

<script>
 function vailName(){
    let isTrue = false;
    let name = document.querySelector("input[name=map_name]").value;
    if( name.trim() !="" ){
        isTrue = true;
    }else{
        alert("Write name for map")
    }

    return isTrue ; 
 }


</script>

<%- include("../partials/footer") %> 
